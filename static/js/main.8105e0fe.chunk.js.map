{"version":3,"sources":["sketch.js","P5Wrapper.js","SimWindow.js","App.js","serviceWorker.js","index.js"],"names":["p","props","population","infPercent","minInfDist","speed","w","size","displayWidth","displayHeight","testRange","setup","createCanvas","resizeCanvas","windowResized","reset","pop","inf","mid","infPop","ceil","i","Person","draw","background","city","Rectangle","width","height","hotspots","QuadTree","wanderer","point","Point","pos","x","y","insert","show","move","range","Circle","points","query","other","userData","checkContact","infected","this","p5","Vector","random","vel","acc","random2D","fill","noStroke","ellipse","newV","lerp","add","limit","sforce","sub","dist","h","r","rSquared","Math","pow","xDist","abs","yDist","edges","boundary","capacity","TypeError","RangeError","divided","ne","northeast","nw","northwest","se","southeast","sw","southwest","contains","length","push","subdivide","found","intersects","P5Wrapper","myRef","React","createRef","myP5","sketch","current","p5Props","nextProps","remove","ref","Component","SimWindow","handleChange","e","target","id","value","setState","state","className","for","type","min","max","onChange","round","App","href","title","xmlns","viewBox","style","fill-rule","stroke","stroke-width","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-dasharray","stroke-dashoffset","font-family","font-weight","font-size","text-anchor","mixBlendMode","d","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.8105e0fe.chunk.js","sourcesContent":["import p5 from \"p5\"\n\nexport default (p) => {\n    p.props = {}\n    let w = [];\n    let population\n    let infPercent\n    let scale = p.displayWidth/p.displayHeight\n    let size = scale*4\n    let minInfDist\n    let speed\n    let testRange = 1.5*size\n    // let mobWidth = (window.screen.availWidth - (8*2*2));\n    // let mobHeight = mobWidth;\n    // let simCanvasSize = ( window.screen.availWidth >= 672) ?\n    //    { width: 600, height: 600 } : { width: mobWidth, height: mobHeight };\n    p.setup = () => {\n      // p.createCanvas(simCanvasSize.width, simCanvasSize.height);\n      p.createCanvas(600,600);\n      if(p.displayWidth <= 450){\n        p.resizeCanvas(340, 340);\n      }\n    }\n\n    p.windowResized = () => {\n      if(p.displayWidth <= 450){\n        p.resizeCanvas(340, 340);\n      }\n    }\n\n    p.reset = () => {\n      population = p.props.pop\n      infPercent = p.props.inf\n      speed = p.props.speed\n      minInfDist = p.props.mid\n      w = []\n      let infPop = p.ceil((infPercent/100)*population)\n      for(let i = 0; i < population; i++){\n        if(i < infPop){\n          w[i] = new Person(true)\n        }\n        else{\n          w[i] = new Person(false);\n        }\n      } \n    }\n\n    p.draw = () => {\n      p.background(30, 41, 46);\n      let city = new Rectangle(p.width/2, p.height/2, p.width, p.height)\n      let hotspots = new QuadTree(city, 4)\n      for(let wanderer of w){\n        let point = new Point(wanderer.pos.x, wanderer.pos.y, wanderer)\n        hotspots.insert(point)\n        wanderer.show()\n        wanderer.move() \n      }\n\n      for(let wanderer of w){\n        let range = new Circle(wanderer.pos.x, wanderer.pos.y, testRange)\n        let points = hotspots.query(range)\n        for(let point of points){\n          let other = point.userData\n          if(wanderer !== other){\n            wanderer.checkContact(other)\n          }\n        }\n      }\n\n      if( p.props.pop !== population ||\n          p.props.inf !== infPercent ||\n          p.props.speed !== speed  ||\n          p.props.mid !== minInfDist  )\n        {\n        p.reset()\n      }\n    }\n\n\n\n    // p.mousePressed = () => {\n    //   console.log(p.frameRate(), w, population)\n    //   // p.reset()\n    // }\n\n    class Person {\n      constructor(infected){\n          this.pos = new p5.Vector(p.random(p.width), p.random(p.height))\n          this.vel = new p5.Vector(0,0)\n          this.acc = p5.Vector.random2D()\n          this.infected = infected\n      }\n        \n      show(){\n          this.infected? p.fill(255, 125, 0):p.fill(6, 224, 17)\n          p.noStroke()\n          p.ellipse(this.pos.x, this.pos.y, size)\n      }\n        \n      move(){\n          let newV = 0||p5.Vector.random2D();\n          if(this.acc === newV)\n              newV = null;\n          this.acc.lerp(newV, 0.1);\n          this.vel.add(this.acc)\n          this.vel.limit(speed)\n          this.pos.add(this.vel)\n          // if(p.mouseIsPressed){\n          //     p.push()\n          //     p.translate(this.pos.x, this.pos.y)\n          //     p.line(0,0, this.vel.x*10, this.vel.y*10)\n          //     p.pop()\n          // }\n          \n          if(this.pos.x < 2){\n              \n              let desired = new p5.Vector(2, this.vel.y)\n              let sforce = desired.sub(this.vel)\n              this.vel.add(sforce) \n          }\n          if(this.pos.x > p.width - 2){\n              \n              let desired = new p5.Vector(-2, this.vel.y)\n              let sforce = desired.sub(this.vel)\n              this.vel.add(sforce) \n          }\n          if(this.pos.y < 2){\n              \n              let desired = new p5.Vector(this.vel.x, 2)\n              let sforce = desired.sub(this.vel)\n              this.vel.add(sforce) \n          }\n          if(this.pos.y > p.height - 2){\n              \n              let desired = new p5.Vector(this.vel.x, -2)\n              let sforce = desired.sub(this.vel)\n              this.vel.add(sforce) \n          }     \n      }\n\n      checkContact(other){\n        if(!this.infected && other.infected){\n            let diff = p.dist(this.pos.x, this.pos.y, other.pos.x, other.pos.y)\n          if(diff < minInfDist){\n            this.infected = true   \n          }\n        }\n      }\n    }\n    \n    class Point {\n        constructor(x, y, userData) {\n          this.x = x;\n          this.y = y;\n          this.userData = userData;\n        }\n    }\n      \n    class Rectangle {\n        constructor(x, y, w, h) {\n          this.x = x;\n          this.y = y;\n          this.w = w;\n          this.h = h;\n        }\n      \n        contains(point) {\n          return (\n            point.x >= this.x - this.w &&\n            point.x <= this.x + this.w &&\n            point.y >= this.y - this.h &&\n            point.y <= this.y + this.h\n          );\n        }\n      \n        intersects(range) {\n          return !(\n            range.x - range.w > this.x + this.w ||\n            range.x + range.w < this.x - this.w ||\n            range.y - range.h > this.y + this.h ||\n            range.y + range.h < this.y - this.h\n          );\n        }\n    }\n    \n    class Circle {\n        constructor(x, y, r) {\n          this.x = x;\n          this.y = y;\n          this.r = r;\n          this.rSquared = this.r * this.r;\n        }\n      \n        contains(point) {\n          // check if the point is in the circle by checking if the euclidean distance of\n          // the point and the center of the circle if smaller or equal to the radius of\n          // the circle\n          let d = Math.pow(point.x - this.x, 2) + Math.pow(point.y - this.y, 2);\n          return d <= this.rSquared;\n        }\n      \n        intersects(range) {\n          var xDist = Math.abs(range.x - this.x);\n          var yDist = Math.abs(range.y - this.y);\n      \n          // radius of the circle\n          var r = this.r;\n      \n          var w = range.w;\n          var h = range.h;\n      \n          var edges = Math.pow(xDist - w, 2) + Math.pow(yDist - h, 2);\n      \n          // no intersection\n          if (xDist > r + w || yDist > r + h) return false;\n      \n          // intersection within the circle\n          if (xDist <= w || yDist <= h) return true;\n      \n          // intersection on the edge of the circle\n          return edges <= this.rSquared;\n        }\n    }\n      \n    class QuadTree {\n        constructor(boundary, capacity) {\n          if (!boundary) {\n            throw TypeError('boundary is null or undefined');\n          }\n          if (!(boundary instanceof Rectangle)) {\n            throw TypeError('boundary should be a Rectangle');\n          }\n          if (typeof capacity !== 'number') {\n            throw TypeError(\n              `capacity should be a number but is a ${typeof capacity}`\n            );\n          }\n          if (capacity < 1) {\n            throw RangeError('capacity must be greater than 0');\n          }\n          this.boundary = boundary;\n          this.capacity = capacity;\n          this.points = [];\n          this.divided = false;\n        }\n      \n        subdivide() {\n          let x = this.boundary.x;\n          let y = this.boundary.y;\n          let w = this.boundary.w / 2;\n          let h = this.boundary.h / 2;\n      \n          let ne = new Rectangle(x + w, y - h, w, h);\n          this.northeast = new QuadTree(ne, this.capacity);\n          let nw = new Rectangle(x - w, y - h, w, h);\n          this.northwest = new QuadTree(nw, this.capacity);\n          let se = new Rectangle(x + w, y + h, w, h);\n          this.southeast = new QuadTree(se, this.capacity);\n          let sw = new Rectangle(x - w, y + h, w, h);\n          this.southwest = new QuadTree(sw, this.capacity);\n      \n          this.divided = true;\n        }\n      \n        insert(point) {\n          if (!this.boundary.contains(point)) {\n            return false;\n          }\n      \n          if (this.points.length < this.capacity) {\n            this.points.push(point);\n            return true;\n          }\n      \n          if (!this.divided) {\n            this.subdivide();\n          }\n      \n          if (\n            this.northeast.insert(point) ||\n            this.northwest.insert(point) ||\n            this.southeast.insert(point) ||\n            this.southwest.insert(point)\n          ) {\n            return true;\n          }\n        }\n      \n        query(range, found) {\n          if (!found) {\n            found = [];\n          }\n      \n          if (!range.intersects(this.boundary)) {\n            return found;\n          }\n      \n          for (let p of this.points) {\n            if (range.contains(p)) {\n              found.push(p);\n            }\n          }\n          if (this.divided) {\n            this.northwest.query(range, found);\n            this.northeast.query(range, found);\n            this.southwest.query(range, found);\n            this.southeast.query(range, found);\n          }\n      \n          return found;\n        }\n    }\n  }","import React, {Component} from 'react'\nimport p5 from \"p5\"\nimport sketch from './sketch'\n\nexport default class P5Wrapper extends Component {\n    constructor(props){\n        super(props)\n        this.myRef = React.createRef()\n    }\n\n    componentDidMount() {\n        this.myP5 = new p5(sketch, this.myRef.current)\n        this.myP5.props = this.props.p5Props\n    }\n\n    shouldComponentUpdate(nextProps) {\n        this.myP5.props = nextProps.p5Props\n        return false\n    }\n\n    componentWillUnmount() {\n        this.myP5.remove()\n    }\n\n    render() {\n        return (\n            <>\n                <div\n                    ref = {this.myRef}\n                />\n            </>\n        )\n    }\n}","import React, {Component} from \"react\"\nimport './Dashboard.css'\nimport P5Wrapper from \"./P5Wrapper\"\n\nclass SimWindow extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      population: 10,\n      infPercent: 1,\n      speed: 0.5,\n      minInfDist: 8\n    }\n  }\n  \n  handleChange = (e) => {\n    const {id, value} = e.target\n    this.setState({\n      [id] : +value\n    })\n    //console.log(this.state.population)\n  }\n\n  render(){\n    return(\n      <div className=\"Dashboard\">\n        <div className = \"Window\">\n          <P5Wrapper\n            p5Props = {{\n              pop: this.state.population,\n              inf: this.state.infPercent,\n              speed: this.state.speed,\n              mid: this.state.minInfDist\n            }}\n          />\n        </div>\n        <div className = \"Controls\">\n          <div>\n            <label for = \"population\"><span>Population</span>{this.state.population}</label><br></br>\n            <input \n              type=\"range\" \n              id= \"population\" \n              value={this.state.population} \n              min=\"1\" \n              max=\"1000\"\n              onChange = {this.handleChange}\n            />\n          </div>\n          <div>\n            <label for = \"infPercent\"><span>Infected Percentage</span>{Math.round(this.state.infPercent)}%</label><br></br>\n            <input \n              type=\"range\" \n              id= \"infPercent\" \n              value={this.state.infPercent} \n              min=\"0.01\" \n              max=\"10.01\"\n              onChange = {this.handleChange}\n            />\n          </div>\n          <div>                        \n            <label for = \"speed\"><span>Speed</span>{Math.round(this.state.speed)}</label><br></br>\n            <input \n              type=\"range\" \n              id= \"speed\"\n              value={this.state.speed} \n              min=\"0.1\" \n              max=\"10.1\"\n              onChange = {this.handleChange}\n            />\n          </div>\n          <div>                        \n            <label for = \"minInfDist\"><span>Minimum Infection Distance</span>{this.state.minInfDist}</label><br></br>\n            <input \n              type=\"range\" \n              id= \"minInfDist\" \n              value={this.state.minInfDist} \n              min=\"0\" \n              max=\"24\"\n              onChange = {this.handleChange}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SimWindow\n\n","import React from 'react';\nimport './App.css';\nimport SimWindow from './SimWindow';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div className=\"navbar\">\n        <h1>\n          CovidSim\n        </h1>\n        <a \n          href = \"https://github.com/j23saw/covidsim\"\n          title = \"View Source Code\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"width=\"26\" height=\"26\"viewBox=\"0 0 172 172\" style={{fill:\"#000000;\"}}><g fill=\"none\" fill-rule=\"nonzero\" stroke=\"none\" stroke-width=\"1\" stroke-linecap=\"butt\" stroke-linejoin=\"miter\" stroke-miterlimit=\"10\" stroke-dasharray=\"\" stroke-dashoffset=\"0\" font-family=\"none\" font-weight=\"none\" font-size=\"none\" text-anchor=\"none\" style={{mixBlendMode: \"normal\"}}><path d=\"M0,172v-172h172v172z\" fill=\"none\"></path><g fill=\"#bbe1fa\"><path d=\"M78.11667,15.05c-32.96667,3.58333 -59.48333,30.1 -63.06667,62.35c-4.3,35.83333 17.91667,66.65 49.45,76.68333v-16.48333c0,0 -2.86667,0.71667 -6.45,0.71667c-10.03333,0 -14.33333,-8.6 -15.05,-13.61667c-0.71667,-2.86667 -2.15,-5.01667 -4.3,-7.16667c-2.15,-0.71667 -2.86667,-0.71667 -2.86667,-1.43333c0,-1.43333 2.15,-1.43333 2.86667,-1.43333c4.3,0 7.88333,5.01667 9.31667,7.16667c3.58333,5.73333 7.88333,7.16667 10.03333,7.16667c2.86667,0 5.01667,-0.71667 6.45,-1.43333c0.71667,-5.01667 2.86667,-10.03333 7.16667,-12.9c-16.48333,-3.58333 -28.66667,-12.9 -28.66667,-28.66667c0,-7.88333 3.58333,-15.76667 8.6,-21.5c-0.71667,-1.43333 -1.43333,-5.01667 -1.43333,-10.03333c0,-2.86667 0,-7.16667 2.15,-11.46667c0,0 10.03333,0 20.06667,9.31667c3.58333,-1.43333 8.6,-2.15 13.61667,-2.15c5.01667,0 10.03333,0.71667 14.33333,2.15c9.31667,-9.31667 20.06667,-9.31667 20.06667,-9.31667c1.43333,4.3 1.43333,8.6 1.43333,11.46667c0,5.73333 -0.71667,8.6 -1.43333,10.03333c5.01667,5.73333 8.6,12.9 8.6,21.5c0,15.76667 -12.18333,25.08333 -28.66667,28.66667c4.3,3.58333 7.16667,10.03333 7.16667,16.48333v23.65c29.38333,-9.31667 50.16667,-36.55 50.16667,-68.08333c0,-43 -36.55,-76.68333 -79.55,-71.66667z\"></path></g></g></svg>                 \n        </a>\n      </div>\n      <div className = \"SimWindow\">\n        <SimWindow /> \n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}